library("Rmpfr")

pre=3031
n=900
R=mpfr(x=60, pre)
ybox=rep(NA,n)
# te=optimizeR(sin, lower = Const(name="pi",prec = p)/mpfr(180, prec=p), upper = Const(name="pi",prec = p)/mpfr(180, prec=p), maxiter = 10, tol = 1e-240)
# y=te$objective

y=mpfr(x = "0.01745240643728351281941897851631619247225272030713964268361242764059738420392807004200192679102134691448842687324950948375806656125348111281010814601647414377999838202340354464919766745435516153972398785547530478991365359805343959556371551615661836356069943387964282272517353285561297210840568104000865546461450708539169521565662374494273267072375346117685241968838465182863344710997238197584414508427525133319996619959601573076708887594527641284845068752429283348803300435327766626046050284092424610115871357983823995607143565326731790230436671318624297588959144138788767731986333888440856280485805144464163094881511857259464920911267246611136970854674819681051215802969784313433952604071429351574156682998503586082483148649510677706172979295964069644318667376366690627010146685396557372622381355987596959376275288434535987237728408646485754109625316895567985434916538715711890872714452387206082330074330905604",precBits = pre)
for (j in 1:n) {
    ybox[j]=asNumeric(floor(y * R))
y=y * R-floor(y * R)
}
plot(table(ybox)/n)
cbind(table(ybox)/n)

#-----------
y0=mpfr(sin(Const("pi",prec = 800)/mpfr(60,  precBits = 800)), precBits = 800)/mpfr(3,  precBits = 800)
n=100
ybox=rep(NA, n)
y=y0
for (j in 1:n) {
  y=y0+mpfr(4,precBits = 800)/mpfr(3,precBits = 800)*y^mpfr(3,precBits = 800)
  ybox[j]=formatMpfr(y)
}

